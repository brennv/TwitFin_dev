---
- hosts: jupyter
  sudo: yes

  pre_tasks:
  - name: Update apt cache if needed.
    apt: update_cache=yes cache_valid_time=3600

  tasks:
  - name: Install jupyter notebook.
    pip: requirements=/vagrant/notebooks/requirements.txt
    notify: start jupyter

  handlers:
    - name: start jupyter
      service: jupyter name=jupyter notebook --no-browser state=started
